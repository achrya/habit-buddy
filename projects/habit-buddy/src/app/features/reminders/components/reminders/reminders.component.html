<div class="view max-w-5xl mx-auto">
  <!-- Header -->
  <div class="bg-white border border-slate-100 rounded-2xl p-4 mb-4">
    <div class="flex items-center justify-between">
      <div class="flex items-center gap-3">
        <div class="p-2 rounded-full bg-blue-100 text-blue-600">
          <lucide-icon [img]="ClockIcon" size="20"></lucide-icon>
        </div>
        <div>
          <div class="text-lg font-semibold">Upcoming Reminders</div>
          <div class="text-sm text-slate-600">Reminders scheduled across your habits</div>
        </div>
      </div>
      <div class="text-sm font-medium text-slate-700">{{ habitsWithReminders().length }} active</div>
    </div>
  </div>

  <!-- Reminders List -->
  <div class="space-y-3">
    @if (habitsWithReminders().length === 0) {
      <div class="p-6 text-center bg-white border border-slate-100 rounded-2xl">
        <div class="p-3 rounded-full bg-slate-100 text-slate-400 w-fit mx-auto mb-3">
          <lucide-icon [img]="ClockIcon" size="24"></lucide-icon>
        </div>
        <p class="text-slate-600 font-medium">No reminders set</p>
        <p class="text-sm text-slate-400 mt-1">Set reminders in your habit cards to see them here</p>
      </div>
    } @else {
      @for (habit of habitsWithReminders(); track habit.id) {
        <div class="bg-white border border-slate-100 rounded-2xl p-4 hover:shadow-sm transition-shadow">
          <div class="flex items-center justify-between">
            <div class="flex items-center gap-3">
              <div 
                [style]="'width:12px;height:12px;background:' + habit.color + ';border-radius:6px'">
              </div>
              <div>
                <div class="font-semibold text-slate-900">{{ habit.title }}</div>
                <div class="text-sm text-slate-600 flex items-center gap-4 mt-1">
                  <span class="flex items-center gap-1">
                    <lucide-icon [img]="ClockIcon" size="14"></lucide-icon>
                    {{ habit.reminder!.time }}
                  </span>
                  <span class="flex items-center gap-1">
                    <lucide-icon [img]="CalendarIcon" size="14"></lucide-icon>
                    {{ getDaysText(habit.reminder!.days) }}
                  </span>
                </div>
              </div>
            </div>
            <button 
              (click)="editReminder(habit.id)"
              class="px-3 py-2 rounded-lg bg-blue-600 text-white text-sm font-medium hover:bg-blue-700 transition-colors flex items-center gap-2">
              <lucide-icon [img]="Edit3Icon" size="14"></lucide-icon>
              Edit
            </button>
          </div>
        </div>
      }
    }
  </div>

  <!-- Reminder Modal -->
  <app-reminder-modal
    #reminderModal
    [habitTitle]="selectedHabitTitleValue"
    [habitId]="selectedHabitIdValue"
    [existingReminder]="selectedHabitReminder()"
    (saveReminder)="onSaveReminder($event)"
    (closeModal)="onCloseReminderModal()">
  </app-reminder-modal>
</div>
